{"ast":null,"code":"var _jsxFileName = \"/Users/jubaer/one_shop/src/pages/Ui/ui-session-timeout.js\";\nimport React, { Component } from 'react';\nimport { Container, Row, Col, Card, CardBody, Breadcrumb, BreadcrumbItem } from 'reactstrap';\nimport { activateAuthLayout } from '../../store/actions';\nimport SweetAlert from 'react-bootstrap-sweetalert';\nimport { Link, withRouter } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport Settingmenu from '../Subpages/Settingmenu';\n\nclass UisessionTimeout extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      timeralert: null,\n      timerswitch: false,\n      seconds: 0\n    };\n    this.tick = this.tick.bind(this);\n  }\n\n  tick() {\n    this.interval = setInterval(() => {\n      this.setState(prevState => ({\n        seconds: prevState.seconds + 1\n      }));\n    }, 1000);\n  }\n\n  componentDidMount() {\n    this.main_function();\n  }\n\n  hideAlert() {\n    window.location = '/login';\n  }\n\n  confirmAlert() {\n    this.setState({\n      timeralert: null\n    });\n  }\n\n  main_function() {\n    setTimeout(function () {\n      setTimeout(function () {\n        this.function1();\n      }.bind(this), 10000);\n      this.function2();\n    }.bind(this), 10000);\n  }\n\n  function1() {\n    if (window.location.pathname === \"/ui-session-timeout\") {\n      window.location = '/login';\n    } else {}\n  }\n\n  function2() {\n    this.tick();\n\n    const nextmsg = () => React.createElement(SweetAlert, {\n      showCancel: true,\n      confirmBtnText: \"Stay Connected\",\n      cancelBtnText: \"Logout\",\n      confirmBtnBsStyle: \"success\",\n      cancelBtnBsStyle: \"danger\",\n      title: \"Your Session is About to Expire!\",\n      onCancel: () => this.hideAlert(),\n      onConfirm: () => this.confirmAlert(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39\n      },\n      __self: this\n    }, \"Redirecting in 10s seconds.\", React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41\n      },\n      __self: this\n    }));\n\n    this.setState({\n      timeralert: nextmsg()\n    });\n  }\n\n  render() {\n    return React.createElement(React.Fragment, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47\n      },\n      __self: this\n    }, React.createElement(Container, {\n      fluid: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48\n      },\n      __self: this\n    }, this.state.timeralert, React.createElement(\"div\", {\n      className: \"page-title-box\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51\n      },\n      __self: this\n    }, React.createElement(Row, {\n      className: \"align-items-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52\n      },\n      __self: this\n    }, React.createElement(Col, {\n      sm: \"6\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53\n      },\n      __self: this\n    }, React.createElement(\"h4\", {\n      className: \"page-title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54\n      },\n      __self: this\n    }, \"Session Timeout\"), React.createElement(Breadcrumb, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }, React.createElement(BreadcrumbItem, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: \"#\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    }, \"Veltrix\")), React.createElement(BreadcrumbItem, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: \"#\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    }, \"UI Elements\")), React.createElement(BreadcrumbItem, {\n      active: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }, \"Session Timeout\"))), React.createElement(Col, {\n      sm: \"6\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"float-right d-none d-md-block\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    }, React.createElement(Settingmenu, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }))))), React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }, React.createElement(Col, {\n      md: \"12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }, React.createElement(Card, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }, React.createElement(CardBody, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }, React.createElement(\"h5\", {\n      className: \"mt-0 header-title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }, \"Bootstrap-session-timeout\"), React.createElement(\"p\", {\n      className: \"text-muted m-b-30\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }, \"Session timeout and keep-alive control with a nice Bootstrap warning dialog.\"), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }, \"After a set amount of idle time, a Bootstrap warning dialog is shown to the user with the option to either log out, or stay connected. If \\\"Logout\\\" button is selected, the page is redirected to a logout URL. If \\\"Stay Connected\\\" is selected the dialog closes and the session is kept alive. If no option is selected after another set amount of idle time, the page is automatically redirected to a set timeout URL.\"), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, \"Idle time is defined as no mouse, keyboard or touch event activity registered by the browser.\"), React.createElement(\"p\", {\n      className: \"mb-0\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, \"As long as the user is active, the (optional) keep-alive URL keeps getting pinged and the session stays alive. If you have no need to keep the server-side session alive via the keep-alive URL, you can also use this plugin as a simple lock mechanism that redirects to your lock-session or log-out URL after a set amount of idle time.\"))))))));\n  }\n\n}\n\nexport default withRouter(connect(null, {\n  activateAuthLayout\n})(UisessionTimeout));","map":{"version":3,"sources":["/Users/jubaer/one_shop/src/pages/Ui/ui-session-timeout.js"],"names":["React","Component","Container","Row","Col","Card","CardBody","Breadcrumb","BreadcrumbItem","activateAuthLayout","SweetAlert","Link","withRouter","connect","Settingmenu","UisessionTimeout","constructor","props","state","timeralert","timerswitch","seconds","tick","bind","interval","setInterval","setState","prevState","componentDidMount","main_function","hideAlert","window","location","confirmAlert","setTimeout","function1","function2","pathname","nextmsg","render"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport { Container, Row, Col, Card, CardBody, Breadcrumb, BreadcrumbItem } from 'reactstrap';\r\nimport { activateAuthLayout } from '../../store/actions';\r\nimport SweetAlert from 'react-bootstrap-sweetalert';\r\nimport { Link, withRouter } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport Settingmenu from '../Subpages/Settingmenu';\r\n\r\nclass UisessionTimeout extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = { timeralert: null, timerswitch: false, seconds: 0 };\r\n        this.tick = this.tick.bind(this);\r\n    }\r\n\r\n    tick() {\r\n        this.interval = setInterval(() => {\r\n            this.setState(prevState => ({ seconds: prevState.seconds + 1 }));\r\n        }, 1000);\r\n    }\r\n\r\n    componentDidMount() { this.main_function(); }\r\n\r\n    hideAlert() { window.location = '/login'; }\r\n    confirmAlert() { this.setState({ timeralert: null }); }\r\n    main_function() {\r\n        setTimeout(function () {\r\n            setTimeout(function () { this.function1() }.bind(this), 10000);\r\n            this.function2()\r\n        }.bind(this), 10000);\r\n    }\r\n    function1() {\r\n        if (window.location.pathname === \"/ui-session-timeout\") { window.location = '/login'; }\r\n        else { }\r\n    }\r\n    function2() {\r\n        this.tick();\r\n        const nextmsg = () => (\r\n            <SweetAlert showCancel confirmBtnText=\"Stay Connected\" cancelBtnText=\"Logout\" confirmBtnBsStyle=\"success\" cancelBtnBsStyle=\"danger\"\r\n                title=\"Your Session is About to Expire!\" onCancel={() => this.hideAlert()} onConfirm={() => this.confirmAlert()}>\r\n                Redirecting in 10s seconds.<br></br></SweetAlert>);\r\n        this.setState({ timeralert: nextmsg() });\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <React.Fragment>\r\n                <Container fluid>\r\n                    {this.state.timeralert}\r\n\r\n                    <div className=\"page-title-box\">\r\n                        <Row className=\"align-items-center\">\r\n                            <Col sm=\"6\">\r\n                                <h4 className=\"page-title\">Session Timeout</h4>\r\n                                <Breadcrumb>\r\n                                    <BreadcrumbItem><Link to=\"#\">Veltrix</Link></BreadcrumbItem>\r\n                                    <BreadcrumbItem><Link to=\"#\">UI Elements</Link></BreadcrumbItem>\r\n                                    <BreadcrumbItem active>Session Timeout</BreadcrumbItem>\r\n                                </Breadcrumb>\r\n                            </Col>\r\n                            <Col sm=\"6\">\r\n\r\n                                <div className=\"float-right d-none d-md-block\">\r\n                                    <Settingmenu />\r\n                                </div>\r\n                            </Col>\r\n                        </Row>\r\n                    </div>\r\n\r\n                    <Row>\r\n                        <Col md=\"12\">\r\n                            <Card>\r\n                                <CardBody>\r\n\r\n                                    <h5 className=\"mt-0 header-title\">Bootstrap-session-timeout</h5>\r\n                                    <p className=\"text-muted m-b-30\">Session timeout and keep-alive control\r\n                                            with a nice Bootstrap warning dialog.</p>\r\n\r\n                                    <div>\r\n                                        <p>After a set amount of idle time, a Bootstrap warning dialog is shown\r\n                                            to the user with the option to either log out, or stay connected. If\r\n                                            \"Logout\" button is selected, the page is redirected to a logout URL.\r\n                                            If \"Stay Connected\" is selected the dialog closes and the session is\r\n                                            kept alive. If no option is selected after another set amount of\r\n                                            idle time, the page is automatically redirected to a set timeout\r\n                                                URL.</p>\r\n\r\n                                        <p>\r\n                                            Idle time is defined as no mouse, keyboard or touch event activity registered by the browser.\r\n                                            </p>\r\n\r\n                                        <p className=\"mb-0\">\r\n                                            As long as the user is active, the (optional) keep-alive URL keeps\r\n                                            getting pinged and the session stays alive. If you have no need to\r\n                                            keep the server-side session alive via the keep-alive URL, you can\r\n                                            also use this plugin as a simple lock mechanism that redirects to\r\n                                            your lock-session or log-out URL after a set amount of idle time.\r\n                                            </p>\r\n                                    </div>\r\n                                </CardBody>\r\n                            </Card>\r\n                        </Col>\r\n                    </Row>\r\n\r\n                </Container>\r\n            </React.Fragment>\r\n        );\r\n    }\r\n}\r\n\r\nexport default withRouter(connect(null, { activateAuthLayout })(UisessionTimeout));"]},"metadata":{},"sourceType":"module"}